{% block dt_stylesheets %}
    <link rel="stylesheet" href="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-se/css/dataTables.semanticui.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-fixedheader-se/css/fixedHeader.semanticui.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-buttons-se/css/buttons.semanticui.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/jpasstheme/assets/vendor/datatables-searchhighlight/dataTables.searchHighlight.css') }}">
{% endblock %}

{% block dt_javascripts %}
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-se/js/dataTables.semanticui.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-colreorder/js/dataTables.colReorder.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-buttons/js/dataTables.buttons.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-buttons-se/js/buttons.semanticui.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables.net-buttons/js/buttons.colVis.min.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables-searchhighlight/jquery.highlight.js') }}"></script>
    <script src="{{ asset('bundles/jpasstheme/assets/vendor/datatables-searchhighlight/dataTables.searchHighlight.js') }}"></script>
    <script>
        $.extend( true, $.fn.dataTable.defaults, {
            "language": {
                "url": "{{ asset('bundles/jpasstheme/assets/vendor/datatables-i18n/i18n/pl.json') }}"
            },
            buttons: [
                { extend: 'colvis', text: 'Wyświetlanie kolumn' },
                {
                    text: 'Wyczyść ustawienia kolumn',
                    action: function ( e, dt, node, config ) {
                        dt.state.clear();
                        window.location.reload();
                    }
                }
            ],
            dom:
                "<'ui stackable grid'"+
                    "<'row'"+
                        "<'eight wide column'l>"+
                        "<'right aligned eight wide column'f>"+
                    ">"+
                    "<'row dt-table'"+
                        "<'sixteen wide column'tr>"+
                    ">"+
                    "<'row'"+
                        "<'seven wide column'i>"+
                        "<'right aligned nine wide column'p>"+
                    ">"+
                ">",
            fixedHeader: true,
            colReorder: true,
            stateSave:  true,
            searchHighlight: true
        } );

        $.extend( true, $.fn.dataTable.Buttons.defaults, {
            dom: {
                container: {
                    className: 'dt-buttons ui stackable menu'
                },
                button: {
                    tag: 'a',
                    className: 'item'
                },
                collection: {
                    tag: 'div',
                    className: 'dt-button-collection ui vertical menu'
                }
            }
        } );

        $(document).on( 'init.dt', function ( e, settings ) {
            var api = new $.fn.dataTable.Api( settings );

            var table = api.table();
            var $container = $('.ui.grid:eq(0)', table.table().container());
            var $buttons = table.buttons().container();
            $('<div class="row" style="padding-bottom: 0;" />').append($buttons).prependTo($container);
        } );
    </script>
{% endblock %}
